:root{
  --bg:#0c1116;
  --panel:#0f1720;
  --panel-2:#0b121a;
  --ink:#e8f0ff;
  --muted:#9bb0c8;
  --accent:#ff7a18;
  --accent-2:#ffb547;
  --good:#20d57a;
  --off:#0d2231;
  --on:#ffcf5a;         /* candle glow */
  --on-edge:#ff9b2f;
  --cell:68px;          /* base size (desktop) */
  --radius:14px;
  --shadow:0 10px 25px rgba(0,0,0,.45);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:radial-gradient(1200px 700px at 50% -20%,#13202c 0%, #0b1117 50%, #05080c 100%);
  color:var(--ink); font:500 16px/1.35 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
  -webkit-font-smoothing:antialiased; user-select:none; -webkit-user-select:none;
}
.top{padding:24px 16px 8px; text-align:center}
h1{margin:0; font-size:clamp(26px,4vw,40px)}
.subtitle{margin:.4rem auto 0; color:var(--muted)}

.start-screen{
  display:flex; align-items:center; justify-content:center; min-height:40vh; padding:24px;
}
.hidden{display:none}

.game{max-width:920px; margin:0 auto; padding:8px 16px 40px}
.hud{display:flex; align-items:center; gap:10px; padding:10px 4px}
.pill{background:var(--panel); border:1px solid #12202d; border-radius:999px; padding:8px 12px; color:var(--muted)}
.spacer{flex:1}

.board-wrap{display:flex; justify-content:center; padding:10px 0}
.board{
  display:grid; gap:10px; background:var(--panel-2); padding:18px; border-radius:20px; box-shadow:var(--shadow);
  touch-action:manipulation; /* better taps on mobile */
}

.cell{
  width:var(--cell); height:var(--cell); border-radius:var(--radius);
  border:1px solid #102131; position:relative; cursor:pointer; outline:none;
  background:linear-gradient(180deg,#0c1a27,#0c1a27);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.02), 0 4px 10px rgba(0,0,0,.35);
  transition:transform .04s ease, filter .12s ease;
}
.cell:active{ transform:scale(.98) }
.cell.on{
  background: radial-gradient(120% 120% at 50% 35%, var(--on) 0%, var(--on-edge) 60%, #7a3f00 100%);
  box-shadow:
    0 0 18px 6px rgba(255,186,66,.22),
    0 10px 22px rgba(0,0,0,.55),
    inset 0 0 12px rgba(255,219,128,.55);
  border-color:#6e3a00;
}
.cell.off::after{
  content:""; position:absolute; inset:10px; border-radius:10px;
  background:radial-gradient(120% 90% at 50% 30%, #162b3d 0%, #0e1f2d 70%, #0b1824 100%);
  opacity:.6;
}

.hint{color:var(--muted); text-align:center; margin:8px 0 0}

.btn{
  border:0; border-radius:12px; padding:10px 14px; color:#0a0f14; background:#e6edf6; cursor:pointer;
  box-shadow:0 10px 22px rgba(0,0,0,.35);
}
.btn:hover{filter:brightness(1.02)}
.btn:active{transform:translateY(1px)}
.btn.ghost{background:#182735; color:var(--ink)}
.btn.primary{background:linear-gradient(180deg,#ff9346,#ff7a18); color:#1a0f02}
.btn.big{padding:14px 22px; font-weight:700; font-size:18px}
.btn.small{padding:8px 12px; font-size:14px}

.modal{border:0; padding:0; background:transparent}
.modal::backdrop{background:rgba(0,0,0,.6)}
.modal-card{
  width:min(520px,90vw); background:#0e1722; color:var(--ink);
  border:1px solid #203345; border-radius:16px; padding:20px; box-shadow:var(--shadow)
}
.modal-card h2{margin:.2rem 0 0}
.code-label{display:block; margin:14px 0 6px; color:var(--muted)}
.code-row{display:flex; gap:10px}
.code{
  flex:1; background:#0b121a; color:#bfe0ff; font-weight:700; letter-spacing:.06em;
  border:1px solid #173149; border-radius:10px; padding:10px 12px
}
.actions{display:flex; justify-content:flex-end; margin-top:16px}

@media (max-width:700px){
  :root{ --cell:56px }
  .board{ gap:8px; padding:14px}
}
@media (max-width:430px){
  :root{ --cell:48px }
  .hud{flex-wrap:wrap}
}
