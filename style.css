:root{
  color-scheme:dark;
  --bg:#0a0f14;
  --panel:#0d141b;
  --ink:#eaf3fc;
  --muted:#9fb6c9;
  --accent:#ff7a18;
  --accent-2:#ff3b3b;
  --tile:#121b23;
  --tile-alt:#0f1820;
  --good:#27d17a;
}
*{box-sizing:border-box; -webkit-tap-highlight-color:transparent}
html,body{margin:0;height:100%;background:var(--bg);color:var(--ink);font-family:system-ui,Segoe UI,Inter,Roboto,Arial}

header{max-width:900px;margin:20px auto 10px;padding:0 16px}
h1{margin:.3rem 0 0;font-size:clamp(28px,4.2vw,44px);letter-spacing:.5px}
.sub{margin:.35rem 0 1rem;color:var(--muted)}
.hud{display:flex;gap:14px;flex-wrap:wrap;color:#dbe8f3}
.hud>div{background:linear-gradient(180deg,#0e1720,#0a1016);border:1px solid #1a2733;border-radius:10px;padding:8px 12px}

main{max-width:900px;margin:0 auto 40px;padding:0 16px}
.board{
  width:min(92vw,720px);
  margin:8px auto 16px;
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:10px;
}
.cell{
  user-select:none;
  display:grid;place-items:center;
  aspect-ratio:1/1;
  border-radius:14px;
  font-weight:700;
  font-size:clamp(18px,4.6vw,28px);
  background:linear-gradient(180deg,var(--tile),var(--tile-alt));
  border:1px solid #15232d;
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.02), 0 10px 28px rgba(0,0,0,.35);
  transition:transform .06s ease, box-shadow .12s ease, outline-color .12s ease;
  cursor:pointer;
  outline:2px solid transparent;
}
.cell.op{color:#ffdca8}
.cell.num{color:#cfe8ff}
.cell.start{background:radial-gradient(120px 120px at 30% 30%, rgba(255,140,0,.15), transparent), linear-gradient(180deg,#101a21,#0e141a); outline-color:#ffb35b}
.cell.target{background:radial-gradient(120px 120px at 70% 70%, rgba(255,59,59,.15), transparent), linear-gradient(180deg,#101a21,#0e141a); outline-color:#ff6b6b}
.cell.path{box-shadow:inset 0 0 0 2px #5ecbff,0 10px 28px rgba(0,0,0,.35)}
.cell:active{transform:scale(.985)}

.actions{display:flex;gap:10px;justify-content:center}
.btn, .btn-xl{
  border:0;border-radius:12px;
  font-weight:700;letter-spacing:.2px;
  background: linear-gradient(180deg, #ff8a2b, #ff6a00);
  color:#fff;padding:12px 18px;cursor:pointer;
  box-shadow:0 12px 30px rgba(255,122,24,.25), inset 0 -3px 0 rgba(0,0,0,.25);
}
.btn:hover{filter:saturate(1.1)}
.btn.ghost{background:linear-gradient(180deg,#1a2632,#121a22);color:#cfe0f0;box-shadow:0 10px 24px rgba(0,0,0,.35), inset 0 -3px 0 rgba(0,0,0,.2)}
.btn.small{padding:8px 10px;border-radius:9px}
.btn-xl{
  padding:18px 26px;
  font-size:18px;border-radius:16px;
  background:linear-gradient(180deg,#ff4040,#d92b2b);
  box-shadow:0 14px 40px rgba(217,43,43,.45), inset 0 -4px 0 rgba(0,0,0,.25);
}

.overlay{
  position:fixed;inset:0;display:grid;place-items:center;
  background:radial-gradient(1300px 900px at 50% 0%, rgba(255,255,255,.05), transparent 60%), rgba(0,0,0,.65);
  z-index:99;
}

.modal{border:0;padding:0;background:transparent}
.modal::backdrop{background:rgba(0,0,0,.6)}
.card{width:min(92vw,520px);background:var(--panel);border:1px solid #1b2733;border-radius:16px;padding:22px}
.card h2{margin:.2rem 0 8px}
.card .row{display:flex;justify-content:center;margin-top:10px}
.code{display:flex;gap:8px;align-items:center;margin:8px 0 2px}
.code input{flex:1;background:#0d1620;color:#bfe0ff;border:1px solid #1b2a36;border-radius:8px;padding:10px 12px;font-weight:700}
